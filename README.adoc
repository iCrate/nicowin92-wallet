Emerald - Ethereum Classic Wallet
=================================

:rootdir: .
:imagesdir: {rootdir}/images
:toclevels: 2
:toc:

ifdef::env-github,env-browser[:badges:]
ifdef::env-github,env-browser[:outfilesuffix: .adoc]

ifdef::badges[]
image:https://travis-ci.org/ethereumproject/emerald-wallet.png?branch=master[Travis CI Build Status, link=https://travis-ci.org/ethereumproject/emerald-wallet]
image:https://img.shields.io/github/license/ethereumproject/emerald-wallet.svg?maxAge=2592000["License", link="https://github.com/ethereumproject/emerald-wallet/blob/master/LICENSE"]
endif::[]


## Development instructions

#### RTFM
__Review `package.json`__  This is where scripts that get run when you do `npm run blah` get defined.
It'll be helpful to have an idea of what's available and where the magic `npm run` commands
are coming from. You can run of those commands without the `npm run` meta-command.

#### Install NPM packages__
This will install dependencies saved in `package.json` under the `devDependencies` field.
You're going to need these.

```shell
$ npm install
```

If you wind up installing more packages, please
- be sure that they're really important -- we'd like to avoid a pile of "convenience"
  packages; every required package adds complexity and complex things sometimes break
  in hard-to-understand ways.
- use `npm install totally-awesome-and-important` __along with__ `--save` _or_ `--save-dev`.
  That way everyone else be able to reproduce your totally-awesomely-improved
  setup.

#### Run it!

Firstly: a couple things aren't working right. If you can fix either of these issues,
@whilei will buy you a beer. However, he won't deliver, so you'll have to come to
St. Louis to claim them.

- _Issue 1_: `webpack-dev-server` isn't working right with the current babel-webpack-electron-izing
  setup. So you've got to do your development in Electron for now. Which means you can't run `npm run start:web`. Bummer.
- _Issue 2_: Electron isn't playing nicely with _some_ webpack-ed javascripts, namely anything in `./electron/*.js`. This means that __in `package.json` you've got to swap `"main": "./electron/webpack-main.js"` to be `"main": "./electron/main.js"`__. Also, please don't forget to swap it back before you commit and push your changes -- the builds won't build if they get a `main.js` leftover in there.

Following these guidelines, you _can_ use:

_Terminal 1_
```shell
# This will begin a live-watching compiler for ./src/ and ./electron folders
$ npm run build:all
```

_Terminal 2_
```
# This will begin the simulated electron app pulling from those compiled sources.
$ npm run start:electron
```

#### Logs

##### Electron logs
During development, Electron logs are in your Terminal 2 console, they're also
persisted in ~/Library/Logs/EmeraldWallet/log.log. This is the same for production.

##### Geth and Emerald logs
During development, you'll find logs in `./logs` right in the project base directory.
In production, logs will be nestled in `~/Library/Application Support/EmeraldWallet/`.

### Building alternatively

You can also use a variety of alternate build options, eg.

```
$ npm run build:all:nowatch
$ npm run build:web
```

### Distribution in development

```
$ npm run dist
```

:arrow_up: This'll build for _your current_ system. There are configurations for
several systems specified in the `"build"` field of `package.json`, but the `dist`
command will just build for the system it's on.

OSX can also build for Linux, just tag on a `-ml` flag to that command to build for
both at the same time.


## Run tests

```
npm run test:watch
```

or for single run:
```
npm test
```

### Parity

`./parity --chain=classic`

Use `--rpccorsdomain` option to configure CORS.

Example: `./parity --chain=classic --rpccorsdomain=*` allow requests from any domain

# License

Apache 2.0
